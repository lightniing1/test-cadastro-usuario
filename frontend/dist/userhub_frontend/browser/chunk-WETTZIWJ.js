import{a as w,b as l,c as x,d as y,e as E,f as L,g as N,h as P,i as D}from"./chunk-327DDUEG.js";import{C as c,G as f,I as p,K as S,L as e,M as t,N as g,P as v,Q as b,R as n,S as C,T as h,ca as _,da as M,fa as I,i as u,p as m,y as d,z as r}from"./chunk-RZ62GIQF.js";function R(a,s){if(a&1&&(e(0,"div",2),n(1),t()),a&2){let i=b();r(),C(i.errorMessage())}}var O=class a{fb=m(P);authService=m(I);router=m(_);isLoading=d(!1);errorMessage=d(null);form=this.fb.group({email:["",[l.required,l.email]],password:["",[l.required]]});onSubmit(){if(this.form.invalid)return;this.isLoading.set(!0),this.errorMessage.set(null);let s=this.form.getRawValue();this.authService.signIn(s).pipe(u(()=>this.isLoading.set(!1))).subscribe({next:()=>{this.router.navigate(["/settings"])},error:i=>{this.errorMessage.set(i.error?.message||"Invalid email or password.")}})}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=c({type:a,selectors:[["app-sign-in"]],decls:19,vars:4,consts:[[1,"container"],[3,"ngSubmit","formGroup"],[1,"error-message"],[1,"form-field"],["for","email"],["id","email","type","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["type","submit",3,"disabled"],["routerLink","/signup"]],template:function(i,o){i&1&&(e(0,"div",0)(1,"h1"),n(2,"Sign In"),t(),e(3,"form",1),v("ngSubmit",function(){return o.onSubmit()}),f(4,R,2,1,"div",2),e(5,"div",3)(6,"label",4),n(7,"Email"),t(),g(8,"input",5),t(),e(9,"div",3)(10,"label",6),n(11,"Password"),t(),g(12,"input",7),t(),e(13,"button",8),n(14),t()(),e(15,"p"),n(16,"Don't have an account? "),e(17,"a",9),n(18,"Sign Up"),t()()()),i&2&&(r(3),p("formGroup",o.form),r(),S(o.errorMessage()?4:-1),r(9),p("disabled",o.form.invalid||o.isLoading()),r(),h(" ",o.isLoading()?"Signing In...":"Sign In"," "))},dependencies:[D,E,w,x,y,L,N,M],styles:[".container[_ngcontent-%COMP%]{max-width:400px;margin:auto;padding:2rem}.form-field[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}input[_ngcontent-%COMP%]{width:100%;padding:.5rem}button[_ngcontent-%COMP%]{width:100%;padding:.75rem;cursor:pointer}.error-message[_ngcontent-%COMP%]{color:red;margin-bottom:1rem}a[_ngcontent-%COMP%]{color:#00f}"]})};export{O as SignInComponent};
