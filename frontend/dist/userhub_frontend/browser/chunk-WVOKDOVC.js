import{a as N,b as a,c as U,d as _,e as w,f as L,g as M,h as D,i as R}from"./chunk-327DDUEG.js";import{C as f,G as c,I as u,K as S,L as t,M as e,N as p,P as v,Q as b,R as i,S as h,T as C,ca as x,da as y,fa as E,i as g,p as l,y as d,z as o}from"./chunk-RZ62GIQF.js";function A(s,m){if(s&1&&(t(0,"div",2),i(1),e()),s&2){let n=b();o(),h(n.errorMessage())}}var F=class s{fb=l(D);authService=l(E);router=l(x);isLoading=d(!1);errorMessage=d(null);form=this.fb.group({name:["",[a.required]],email:["",[a.required,a.email]],password:["",[a.required,a.minLength(6)]]});onSubmit(){if(this.form.invalid)return;this.isLoading.set(!0),this.errorMessage.set(null);let m=this.form.getRawValue();this.authService.signUp(m).pipe(g(()=>this.isLoading.set(!1))).subscribe({next:()=>{this.router.navigate(["/signin"])},error:n=>{this.errorMessage.set(n.error?.message||"An unexpected error occurred.")}})}static \u0275fac=function(n){return new(n||s)};static \u0275cmp=f({type:s,selectors:[["app-sign-up"]],decls:23,vars:4,consts:[[1,"container"],[3,"ngSubmit","formGroup"],[1,"error-message"],[1,"form-field"],["for","name"],["id","name","type","text","formControlName","name"],["for","email"],["id","email","type","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["type","submit",3,"disabled"],["routerLink","/signin"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"h1"),i(2,"Sign Up"),e(),t(3,"form",1),v("ngSubmit",function(){return r.onSubmit()}),c(4,A,2,1,"div",2),t(5,"div",3)(6,"label",4),i(7,"Name"),e(),p(8,"input",5),e(),t(9,"div",3)(10,"label",6),i(11,"Email"),e(),p(12,"input",7),e(),t(13,"div",3)(14,"label",8),i(15,"Password"),e(),p(16,"input",9),e(),t(17,"button",10),i(18),e()(),t(19,"p"),i(20,"Already have an account? "),t(21,"a",11),i(22,"Sign In"),e()()()),n&2&&(o(3),u("formGroup",r.form),o(),S(r.errorMessage()?4:-1),o(13),u("disabled",r.form.invalid||r.isLoading()),o(),C(" ",r.isLoading()?"Registering...":"Sign Up"," "))},dependencies:[R,w,N,U,_,L,M,y],encapsulation:2})};export{F as SignUpComponent};
